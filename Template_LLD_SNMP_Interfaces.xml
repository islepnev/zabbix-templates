<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>5.4</version>
    <date>2023-06-16T18:01:49Z</date>
    <groups>
        <group>
            <uuid>e7946cf06c3c44daa3ae0f50b4457f4c</uuid>
            <name>Templates/Switches</name>
        </group>
    </groups>
    <templates>
        <template>
            <uuid>d8762d48a99d460a972ccf57ea4152e4</uuid>
            <template>Template_LLD_SNMP_Interfaces</template>
            <name>Template_LLD_SNMP_Interfaces</name>
            <groups>
                <group>
                    <name>Templates/Switches</name>
                </group>
            </groups>
            <discovery_rules>
                <discovery_rule>
                    <uuid>a40fd21352bf491bbbb91272c5095e7c</uuid>
                    <name>Interfaces</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#SNMPVALUE},IF-MIB::ifName, {#IFALIAS}, IF-MIB::ifAlias, {#IFDESCR}, IF-MIB::ifDescr, {#IFNAME}, IF-MIB::ifName, {#IFTYPE}, IF-MIB::ifType, {#IFADMINSTATUS}, IF-MIB::ifAdminStatus, {#IFOPERSTATUS}, IF-MIB::ifOperStatus]</snmp_oid>
                    <key>snmp.discovery</key>
                    <filter>
                        <evaltype>AND</evaltype>
                        <conditions>
                            <condition>
                                <macro>{#IFDESCR}</macro>
                                <value>@interface-discovery</value>
                                <formulaid>B</formulaid>
                            </condition>
                            <condition>
                                <macro>{#IFADMINSTATUS}</macro>
                                <value>@interface-discovery-admin-status</value>
                                <formulaid>A</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <description>Discovering interfaces from IF-MIB</description>
                    <item_prototypes>
                        <item_prototype>
                            <uuid>986169c06a024f039b9a2e0ceb469b9a</uuid>
                            <name>ifAdminStatus {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifAdminStatus.{#SNMPINDEX}</snmp_oid>
                            <key>ifAdminStatus.[&quot;{#SNMPINDEX}&quot;]</key>
                            <history>30d</history>
                            <valuemap>
                                <name>ifAdminStatus</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifAdminStatus</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>9b0381690e04408e93360e73ca4b0395</uuid>
                                    <expression>(last(/Template_LLD_SNMP_Interfaces/ifAdminStatus.[&quot;{#SNMPINDEX}&quot;],#1)&lt;&gt;last(/Template_LLD_SNMP_Interfaces/ifAdminStatus.[&quot;{#SNMPINDEX}&quot;],#2))=1</expression>
                                    <name>{HOST.HOST}:{#IFDESCR} &quot;{#IFALIAS}&quot; Admin Status has changed</name>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>312eb905b35540ca8929940e5f7d90c1</uuid>
                            <name>Bytes In  {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifHCInOctets.{#SNMPINDEX}</snmp_oid>
                            <key>ifHCInOctets.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>15s</delay>
                            <history>30d</history>
                            <value_type>FLOAT</value_type>
                            <units>B/s</units>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <parameters>
                                        <parameter/>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifHCInOctets</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>8585d66a660b4e0e9171cc7f1a297e49</uuid>
                            <name>Bytes Out {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifHCOutOctets.{#SNMPINDEX}</snmp_oid>
                            <key>ifHCOutOctets.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>15s</delay>
                            <history>30d</history>
                            <value_type>FLOAT</value_type>
                            <units>B/s</units>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <parameters>
                                        <parameter/>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifHCOutOctets</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>6557f1907de54b50b6d807d22c4969d3</uuid>
                            <name>ifHighSpeed {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifHighSpeed.{#SNMPINDEX}</snmp_oid>
                            <key>ifHighSpeed.[&quot;{#SNMPINDEX}&quot;]</key>
                            <history>30d</history>
                            <valuemap>
                                <name>ifHighSpeed</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifHighSpeed</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>458bde01d9b348f79cee321aaa1ba789</uuid>
                            <name>In Discards {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifInDiscards.{#SNMPINDEX}</snmp_oid>
                            <key>ifInDiscards.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>30s</delay>
                            <history>30d</history>
                            <value_type>FLOAT</value_type>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <parameters>
                                        <parameter/>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifInDiscards</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>491f3a572f254e0d9781261fe1b58e0b</uuid>
                                    <expression>last(/Template_LLD_SNMP_Interfaces/ifInDiscards.[&quot;{#SNMPINDEX}&quot;])&gt;{$IF_ERROR_THR}</expression>
                                    <name>{HOST.HOST}:{#IFDESCR} &quot;{#IFALIAS}&quot; In Discards &gt; {$IF_ERROR_THR}</name>
                                    <priority>INFO</priority>
                                    <description>ifInDiscards over {$IF_ERROR_THR} in last {$IF_ERROR_PERIOD} seconds.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>a470ec0f219f41f4a765b0827fd5640b</uuid>
                            <name>In Errors {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifInErrors.{#SNMPINDEX}</snmp_oid>
                            <key>ifInErrors.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>30s</delay>
                            <history>30d</history>
                            <value_type>FLOAT</value_type>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <parameters>
                                        <parameter/>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifInErrors</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>2d2df41634c84adc943506399b4c7215</uuid>
                            <name>In Non-Unicast Packets {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifInNUcastPkts.{#SNMPINDEX}</snmp_oid>
                            <key>ifInNUcastPkts.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>30s</delay>
                            <history>30d</history>
                            <value_type>FLOAT</value_type>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <parameters>
                                        <parameter/>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifInNUcastPkts</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>16e6bad6f9724a9ba8f507239b47b34a</uuid>
                                    <expression>avg(/Template_LLD_SNMP_Interfaces/ifInNUcastPkts.[&quot;{#SNMPINDEX}&quot;],5m)&gt;5000</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>avg(/Template_LLD_SNMP_Interfaces/ifInNUcastPkts.[&quot;{#SNMPINDEX}&quot;],15m)&lt;2500</recovery_expression>
                                    <name>{HOST.HOST}:{#IFDESCR} &quot;{#IFALIAS}&quot; In Non-Unicast &gt; 5k</name>
                                    <priority>INFO</priority>
                                    <dependencies>
                                        <dependency>
                                            <name>{HOST.HOST}:{#IFDESCR} &quot;{#IFALIAS}&quot; In Non-Unicast &gt; 20k</name>
                                            <expression>avg(/Template_LLD_SNMP_Interfaces/ifInNUcastPkts.[&quot;{#SNMPINDEX}&quot;],5m)&gt;20000</expression>
                                            <recovery_expression>avg(/Template_LLD_SNMP_Interfaces/ifInNUcastPkts.[&quot;{#SNMPINDEX}&quot;],15m)&lt;10000</recovery_expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>1f2eb6a621b341129a040180fd86b4c4</uuid>
                                    <expression>avg(/Template_LLD_SNMP_Interfaces/ifInNUcastPkts.[&quot;{#SNMPINDEX}&quot;],5m)&gt;20000</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>avg(/Template_LLD_SNMP_Interfaces/ifInNUcastPkts.[&quot;{#SNMPINDEX}&quot;],15m)&lt;10000</recovery_expression>
                                    <name>{HOST.HOST}:{#IFDESCR} &quot;{#IFALIAS}&quot; In Non-Unicast &gt; 20k</name>
                                    <priority>WARNING</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>9d236b8122e24a829c84f670990eddd6</uuid>
                            <name>In Unicast Packets {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifInUcastPkts.{#SNMPINDEX}</snmp_oid>
                            <key>ifInUcastPkts.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>30s</delay>
                            <history>30d</history>
                            <value_type>FLOAT</value_type>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <parameters>
                                        <parameter/>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifInUcastPkts</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>a6eed06962734e49a395e6154a343f7c</uuid>
                            <name>ifLastChange {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifLastChange.{#SNMPINDEX}</snmp_oid>
                            <key>ifLastChange.[&quot;{#SNMPINDEX}&quot;]</key>
                            <history>30d</history>
                            <value_type>FLOAT</value_type>
                            <units>s</units>
                            <preprocessing>
                                <step>
                                    <type>MULTIPLIER</type>
                                    <parameters>
                                        <parameter>0.01</parameter>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifLastChange</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>89b3a3454b174b06bb4275e004d1cb62</uuid>
                            <name>ifOperStatus {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifOperStatus.{#SNMPINDEX}</snmp_oid>
                            <key>ifOperStatus.[&quot;{#SNMPINDEX}&quot;]</key>
                            <history>30d</history>
                            <valuemap>
                                <name>ifOperStatus</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifOperStatus</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>69338992e4d640eebe3d471767f8824f</uuid>
                                    <expression>(last(/Template_LLD_SNMP_Interfaces/ifOperStatus.[&quot;{#SNMPINDEX}&quot;],#1)&lt;&gt;last(/Template_LLD_SNMP_Interfaces/ifOperStatus.[&quot;{#SNMPINDEX}&quot;],#2))=1 and last(/Template_LLD_SNMP_Interfaces/ifOperStatus.[&quot;{#SNMPINDEX}&quot;])=2 and {$IFOPERSTATUS.MUTE}=0</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>last(/Template_LLD_SNMP_Interfaces/ifOperStatus.[&quot;{#SNMPINDEX}&quot;])&lt;&gt;2 or {$IFOPERSTATUS.MUTE}=1</recovery_expression>
                                    <name>Interface {#IFNAME} &quot;{#IFALIAS}&quot;: Link down</name>
                                    <priority>AVERAGE</priority>
                                    <description>Link state changed to Down.

To mute this trigger permanently for all interfaces on this host, set macro IFOPERSTATUS.MUTE to 1.</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>b9ca31218e9a461c9ef63b7b077ce4b3</uuid>
                            <name>Out Discards {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifOutDiscards.{#SNMPINDEX}</snmp_oid>
                            <key>ifOutDiscards.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>30s</delay>
                            <history>30d</history>
                            <value_type>FLOAT</value_type>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <parameters>
                                        <parameter/>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifOutDiscards</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>e752a275d97c45c7abe7e23b5357faa0</uuid>
                                    <expression>last(/Template_LLD_SNMP_Interfaces/ifOutDiscards.[&quot;{#SNMPINDEX}&quot;]) &gt; 10000</expression>
                                    <name>{HOST.HOST}:{#IFDESCR} &quot;{#IFALIAS}&quot; Out Discards &gt;10.000</name>
                                    <priority>WARNING</priority>
                                    <description>Output packet drop rate over 10.000 p/s</description>
                                </trigger_prototype>
                                <trigger_prototype>
                                    <uuid>bc07808e33624a16886c5dec6f5b7eb8</uuid>
                                    <expression>last(/Template_LLD_SNMP_Interfaces/ifOutDiscards.[&quot;{#SNMPINDEX}&quot;]) &gt; 1000</expression>
                                    <name>{HOST.HOST}:{#IFDESCR} &quot;{#IFALIAS}&quot; Out Discards &gt;1000</name>
                                    <priority>INFO</priority>
                                    <description>Output packet drop rate over 1000 p/s</description>
                                    <dependencies>
                                        <dependency>
                                            <name>{HOST.HOST}:{#IFDESCR} &quot;{#IFALIAS}&quot; Out Discards &gt;10.000</name>
                                            <expression>last(/Template_LLD_SNMP_Interfaces/ifOutDiscards.[&quot;{#SNMPINDEX}&quot;]) &gt; 10000</expression>
                                        </dependency>
                                    </dependencies>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>81267a2c4dad4834b12dc14dc6ae099e</uuid>
                            <name>Out Errors {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifOutErrors.{#SNMPINDEX}</snmp_oid>
                            <key>ifOutErrors.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>30s</delay>
                            <history>30d</history>
                            <value_type>FLOAT</value_type>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <parameters>
                                        <parameter/>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifOutErrors</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>1ff7c644d4254e62963b74740c9a68d5</uuid>
                            <name>Out Non-Unicast Packets {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifOutNUcastPkts.{#SNMPINDEX}</snmp_oid>
                            <key>ifOutNUcastPkts.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>30s</delay>
                            <history>30d</history>
                            <value_type>FLOAT</value_type>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <parameters>
                                        <parameter/>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifOutNUcastPkts</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <uuid>284aa644812044c789b2ce466e3932e5</uuid>
                                    <expression>last(/Template_LLD_SNMP_Interfaces/ifOutNUcastPkts.[&quot;{#SNMPINDEX}&quot;])&gt;{$IF_BCAST_THR}</expression>
                                    <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                                    <recovery_expression>max(/Template_LLD_SNMP_Interfaces/ifOutNUcastPkts.[&quot;{#SNMPINDEX}&quot;],15m)&lt; 0.5 * {$IF_BCAST_THR}</recovery_expression>
                                    <name>{HOST.HOST}:{#IFDESCR} &quot;{#IFALIAS}&quot; Out Broadcasts &gt; {$IF_BCAST_THR}</name>
                                    <status>DISABLED</status>
                                    <priority>INFO</priority>
                                    <description>Broadcast rate over {$IF_BCAST_THR}</description>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <uuid>1dfdab0b30cb4e93b8595ab8b00568c1</uuid>
                            <name>Out Unicast Packets {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifOutUcastPkts.{#SNMPINDEX}</snmp_oid>
                            <key>ifOutUcastPkts.[&quot;{#SNMPINDEX}&quot;]</key>
                            <delay>30s</delay>
                            <history>30d</history>
                            <value_type>FLOAT</value_type>
                            <preprocessing>
                                <step>
                                    <type>CHANGE_PER_SECOND</type>
                                    <parameters>
                                        <parameter/>
                                    </parameters>
                                </step>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifOutUcastPkts</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                        </item_prototype>
                        <item_prototype>
                            <uuid>b291846a13754b9ca664869f8e822d69</uuid>
                            <name>ifSpeed {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>IF-MIB::ifSpeed.{#SNMPINDEX}</snmp_oid>
                            <key>ifSpeed.[&quot;{#SNMPINDEX}&quot;]</key>
                            <history>30d</history>
                            <valuemap>
                                <name>ifSpeed</name>
                            </valuemap>
                            <preprocessing>
                                <step>
                                    <type>DISCARD_UNCHANGED_HEARTBEAT</type>
                                    <parameters>
                                        <parameter>900</parameter>
                                    </parameters>
                                </step>
                            </preprocessing>
                            <request_method>POST</request_method>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>ifSpeed</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Interfaces</value>
                                </tag>
                            </tags>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <uuid>27777afb7dab446a913df11240e6783a</uuid>
                            <expression>min(/Template_LLD_SNMP_Interfaces/ifInErrors.[&quot;{#SNMPINDEX}&quot;],5m)&gt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}
or min(/Template_LLD_SNMP_Interfaces/ifOutErrors.[&quot;{#SNMPINDEX}&quot;],5m)&gt;{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>max(/Template_LLD_SNMP_Interfaces/ifInErrors.[&quot;{#SNMPINDEX}&quot;],5m)&lt; 0.8*{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;} and max(/Template_LLD_SNMP_Interfaces/ifOutErrors.[&quot;{#SNMPINDEX}&quot;],5m)&lt; 0.8*{$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;}</recovery_expression>
                            <name>{HOST.HOST}:{#IFDESCR} &quot;{#IFALIAS}&quot; High error rate ( &gt; {$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;} for 5m)</name>
                            <opdata>errors in: {ITEM.LASTVALUE1}, errors out: {ITEM.LASTVALUE2}</opdata>
                            <priority>WARNING</priority>
                            <description>Recovers when below 80% of {$IF.ERRORS.WARN:&quot;{#IFNAME}&quot;} threshold</description>
                            <manual_close>YES</manual_close>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <uuid>3333cee2fa734514a640e79bfcaded31</uuid>
                            <name>Bytes (avg) {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <ymin_type_1>FIXED</ymin_type_1>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>00BB00</color>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifHCInOctets.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>0000FF</color>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifHCOutOctets.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <uuid>eca19dbadb944f219c212a94356c6f1e</uuid>
                            <name>Bytes (max) {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <ymin_type_1>FIXED</ymin_type_1>
                            <graph_items>
                                <graph_item>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>00BB00</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifHCInOctets.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>0000FF</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifHCOutOctets.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <uuid>ea490445aed94f1595e04f44889ea72e</uuid>
                            <name>Interface Details {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <ymin_type_1>FIXED</ymin_type_1>
                            <graph_items>
                                <graph_item>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>00D000</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifInUcastPkts.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>GRADIENT_LINE</drawtype>
                                    <color>FF00FF</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifInNUcastPkts.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>8080DD</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifOutUcastPkts.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>3</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>0000FF</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifOutNUcastPkts.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>4</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>808080</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifInDiscards.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>5</sortorder>
                                    <drawtype>FILLED_REGION</drawtype>
                                    <color>FF0000</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifInErrors.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>6</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>A000FF</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifOutDiscards.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>7</sortorder>
                                    <drawtype>FILLED_REGION</drawtype>
                                    <color>AA0000</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifOutErrors.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <uuid>28056878ea0440e1be2e2138910c27d8</uuid>
                            <name>Interface Errors {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <ymin_type_1>FIXED</ymin_type_1>
                            <graph_items>
                                <graph_item>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>3333FF</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifInDiscards.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>FF00C8</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifInErrors.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>2</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>00AA00</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifOutDiscards.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>3</sortorder>
                                    <drawtype>BOLD_LINE</drawtype>
                                    <color>FF0000</color>
                                    <calc_fnc>MAX</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifOutErrors.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                        <graph_prototype>
                            <uuid>3a3cb52e4e9f46c9b2f7d99cb49d0aa6</uuid>
                            <name>Interface state {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                            <ymin_type_1>FIXED</ymin_type_1>
                            <graph_items>
                                <graph_item>
                                    <color>0040FF</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifOperStatus.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <color>43A047</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>Template_LLD_SNMP_Interfaces</host>
                                        <key>ifAdminStatus.[&quot;{#SNMPINDEX}&quot;]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <request_method>POST</request_method>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$IF.ERRORS.WARN}</macro>
                    <value>2</value>
                </macro>
                <macro>
                    <macro>{$IFOPERSTATUS.MUTE}</macro>
                    <value>0</value>
                    <description>Set to 1 to mute Link down alarms</description>
                </macro>
                <macro>
                    <macro>{$IF_ERROR_PERIOD}</macro>
                    <value>15m</value>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFADMINSTATUS.MATCHES}</macro>
                    <value>^.*</value>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFADMINSTATUS.NOT_MATCHES}</macro>
                    <value>^2$</value>
                    <description>Ignore down(2) administrative status</description>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFALIAS.MATCHES}</macro>
                    <value>.*</value>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFALIAS.NOT_MATCHES}</macro>
                    <value>CHANGE_IF_NEEDED</value>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFDESCR.MATCHES}</macro>
                    <value>.*</value>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFDESCR.NOT_MATCHES}</macro>
                    <value>CHANGE_IF_NEEDED</value>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFNAME.MATCHES}</macro>
                    <value>^.*$</value>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFNAME.NOT_MATCHES}</macro>
                    <value>(^Software Loopback Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9a-z]+$|docker[0-9]+|br-[a-z0-9]{12})</value>
                    <description>Filter out loopbacks, nulls, docker veth links and docker0 bridge by default</description>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFOPERSTATUS.MATCHES}</macro>
                    <value>^.*$</value>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFOPERSTATUS.NOT_MATCHES}</macro>
                    <value>^6$</value>
                    <description>Ignore notPresent(6)</description>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFTYPE.MATCHES}</macro>
                    <value>.*</value>
                </macro>
                <macro>
                    <macro>{$NET.IF.IFTYPE.NOT_MATCHES}</macro>
                    <value>CHANGE_IF_NEEDED</value>
                </macro>
            </macros>
            <dashboards>
                <dashboard>
                    <uuid>3ce5a5fa6a404a04a5b20ab6c62a0f6f</uuid>
                    <name>Interface Bytes (average)</name>
                    <pages>
                        <page>
                            <widgets>
                                <widget>
                                    <type>GRAPH_PROTOTYPE</type>
                                    <width>24</width>
                                    <height>5</height>
                                    <fields>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>columns</name>
                                            <value>1</value>
                                        </field>
                                        <field>
                                            <type>GRAPH_PROTOTYPE</type>
                                            <name>graphid</name>
                                            <value>
                                                <name>Bytes (avg) {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                                                <host>Template_LLD_SNMP_Interfaces</host>
                                            </value>
                                        </field>
                                    </fields>
                                </widget>
                            </widgets>
                        </page>
                    </pages>
                </dashboard>
                <dashboard>
                    <uuid>b0fe3876e77e493fa613164ba8afe526</uuid>
                    <name>Interface Bytes (max)</name>
                    <pages>
                        <page>
                            <widgets>
                                <widget>
                                    <type>GRAPH_PROTOTYPE</type>
                                    <width>24</width>
                                    <height>5</height>
                                    <fields>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>columns</name>
                                            <value>1</value>
                                        </field>
                                        <field>
                                            <type>GRAPH_PROTOTYPE</type>
                                            <name>graphid</name>
                                            <value>
                                                <name>Bytes (max) {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                                                <host>Template_LLD_SNMP_Interfaces</host>
                                            </value>
                                        </field>
                                    </fields>
                                </widget>
                            </widgets>
                        </page>
                    </pages>
                </dashboard>
                <dashboard>
                    <uuid>2c0680c74b1a4d9092fc82f5c590f2ce</uuid>
                    <name>Interface Details</name>
                    <pages>
                        <page>
                            <widgets>
                                <widget>
                                    <type>GRAPH_PROTOTYPE</type>
                                    <width>24</width>
                                    <height>5</height>
                                    <fields>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>columns</name>
                                            <value>1</value>
                                        </field>
                                        <field>
                                            <type>GRAPH_PROTOTYPE</type>
                                            <name>graphid</name>
                                            <value>
                                                <name>Interface Details {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                                                <host>Template_LLD_SNMP_Interfaces</host>
                                            </value>
                                        </field>
                                    </fields>
                                </widget>
                            </widgets>
                        </page>
                    </pages>
                </dashboard>
                <dashboard>
                    <uuid>a5f46ba0cc7f4137bc05c1f4f7d91826</uuid>
                    <name>Interface Errors</name>
                    <pages>
                        <page>
                            <widgets>
                                <widget>
                                    <type>GRAPH_PROTOTYPE</type>
                                    <width>24</width>
                                    <height>5</height>
                                    <fields>
                                        <field>
                                            <type>INTEGER</type>
                                            <name>columns</name>
                                            <value>1</value>
                                        </field>
                                        <field>
                                            <type>GRAPH_PROTOTYPE</type>
                                            <name>graphid</name>
                                            <value>
                                                <name>Interface Errors {#IFDESCR} &quot;{#IFALIAS}&quot;</name>
                                                <host>Template_LLD_SNMP_Interfaces</host>
                                            </value>
                                        </field>
                                    </fields>
                                </widget>
                            </widgets>
                        </page>
                    </pages>
                </dashboard>
            </dashboards>
            <valuemaps>
                <valuemap>
                    <uuid>159fad93d9454b14b570c717eff73a57</uuid>
                    <name>ifAdminStatus</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>up</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>down</newvalue>
                        </mapping>
                        <mapping>
                            <value>3</value>
                            <newvalue>testing</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>b5bb8858d87e4f829948f7ee8c96900f</uuid>
                    <name>ifHighSpeed</name>
                    <mappings>
                        <mapping>
                            <value>10</value>
                            <newvalue>10 Mbps</newvalue>
                        </mapping>
                        <mapping>
                            <value>100</value>
                            <newvalue>100 Mbps</newvalue>
                        </mapping>
                        <mapping>
                            <value>1000</value>
                            <newvalue>1 Gbps</newvalue>
                        </mapping>
                        <mapping>
                            <value>2000</value>
                            <newvalue>2 Gbps</newvalue>
                        </mapping>
                        <mapping>
                            <value>10000</value>
                            <newvalue>10 Gbps</newvalue>
                        </mapping>
                        <mapping>
                            <value>20000</value>
                            <newvalue>20 Gbps</newvalue>
                        </mapping>
                        <mapping>
                            <value>25000</value>
                            <newvalue>25 Gbps</newvalue>
                        </mapping>
                        <mapping>
                            <value>50000</value>
                            <newvalue>50 Gbps</newvalue>
                        </mapping>
                        <mapping>
                            <value>100000</value>
                            <newvalue>100 Gbps</newvalue>
                        </mapping>
                        <mapping>
                            <value>200000</value>
                            <newvalue>200 Gbps</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>bd0307f1b8034cf1b920389067a52dc1</uuid>
                    <name>ifOperStatus</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>up</newvalue>
                        </mapping>
                        <mapping>
                            <value>2</value>
                            <newvalue>down</newvalue>
                        </mapping>
                        <mapping>
                            <value>3</value>
                            <newvalue>testing</newvalue>
                        </mapping>
                        <mapping>
                            <value>4</value>
                            <newvalue>unknown</newvalue>
                        </mapping>
                        <mapping>
                            <value>5</value>
                            <newvalue>dormant</newvalue>
                        </mapping>
                        <mapping>
                            <value>6</value>
                            <newvalue>notPresent</newvalue>
                        </mapping>
                        <mapping>
                            <value>7</value>
                            <newvalue>lowerLayerDown</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>0b0a932e46ab4baabf58c425a84eb4fa</uuid>
                    <name>ifSpeed</name>
                    <mappings>
                        <mapping>
                            <value>10000000</value>
                            <newvalue>10 Mbps</newvalue>
                        </mapping>
                        <mapping>
                            <value>100000000</value>
                            <newvalue>100 Mbps</newvalue>
                        </mapping>
                        <mapping>
                            <value>1000000000</value>
                            <newvalue>1 Gbps</newvalue>
                        </mapping>
                        <mapping>
                            <value>4294967295</value>
                            <newvalue>10 Gbps</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>0</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
    </templates>
</zabbix_export>
